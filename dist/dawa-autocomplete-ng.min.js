var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(c,g){return Object.prototype.hasOwnProperty.call(c,g)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,g,m){c!=Array.prototype&&c!=Object.prototype&&(c[g]=m.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,g,m,p){if(g){m=$jscomp.global;c=c.split(".");for(p=0;p<c.length-1;p++){var r=c[p];r in m||(m[r]={});m=m[r]}c=c[c.length-1];p=m[c];g=g(p);g!=p&&null!=g&&$jscomp.defineProperty(m,c,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Object.assign",function(c){return c?c:function(c,m){for(var g=1;g<arguments.length;g++){var r=arguments[g];if(r)for(var n in r)$jscomp.owns(r,n)&&(c[n]=r[n])}return c}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var g=0;return $jscomp.iteratorPrototype(function(){return g<c.length?{done:!1,value:c[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,g){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var m=0,p={next:function(){if(m<c.length){var r=m++;return{value:g(r,c[r]),done:!1}}p.next=function(){return{done:!0,value:void 0}};return p.next()}};p[Symbol.iterator]=function(){return p};return p};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");
(function(c){function g(){}function m(c,b,a){this.attrsArr=[];this.staticsApplied=!1;this.key=b;this.keyMap=new g;this.focused=!1;this.nameOrCtor=c;this.text=null;this.typeId=a}var p=Object.prototype.hasOwnProperty;g.prototype=Object.create(null);var r=function(c,b,a,d){b=new m(b,a,d);return c.__incrementalDOMData=b},n=function(c){N(c);return c.__incrementalDOMData},N=function b(a){if(!a.__incrementalDOMData){var d=1===a.nodeType,h=d?a.localName:a.nodeName,f=d?a.getAttribute("key"):null,h=r(a,h,f,
a.typeId);f&&(n(a.parentNode).keyMap[f]=a);if(d)for(d=a.attributes,f=h.attrsArr,h=0;h<d.length;h+=1){var e=d[h],c=e.value;f.push(e.name);f.push(c)}for(a=a.firstChild;a;a=a.nextSibling)b(a)}},y=!1,A=!1,B=function(b){if(y)throw Error(b+"() can not be called between elementOpenStart() and elementOpenEnd().");},F=function(b){if(A)throw Error(b+"() may not be called inside an element that has called skip().");},G=function(b){var a=y;y=b;return a},C=function(b){var a=A;A=b;return a},O=Node.prototype.getRootNode||
function(){for(var b=this,a=b;b;)a=b,b=b.parentNode;return a},u="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof u?u:{},l=null,q=null,x=null,H=function(b,a){for(var d=0;d<b.length;d+=1)n(b[d]).focused=a},J=function(b){return function(a,d,h){var f=x,e=l,c=q,k=!1,g=!1;x=a.ownerDocument;q=a.parentNode;u.DEBUG&&(k=G(!1),g=C(!1));var t=q;var n,m=O.call(a);if((n=11===m.nodeType||9===m.nodeType?m.activeElement:null)&&a.contains(n)){for(m=[];n!==t;)m.push(n),n=n.parentNode;
t=m}else t=[];H(t,!0);a=b(a,d,h);H(t,!1);if(u.DEBUG){if(y)throw Error("elementOpenEnd() must be called after calling elementOpenStart().");G(k);C(g)}x=f;l=e;q=c;return a}}(function(b,a,d){q=l=b;l=null;a(d);I();if(u.DEBUG&&l!==b){a=l;for(d=[];a&&a!==b;)d.push(a.nodeName.toLowerCase()),a=a.parentNode;throw Error("One or more tags were not closed:\n"+d.join("\n"));}return b}),K=function(b,a,d,h){b=n(b);return a===b.nameOrCtor&&h===b.typeId&&d==b.key},L=function(b,a,d){if(!l||!K(l,b,a,d)){var h=n(q).keyMap,
f=void 0;if(a){var e=h[a];e&&(K(e,b,a,d)?f=e:n(e).key=null)}f||("#text"===b?(f=x.createTextNode(""),r(f,"#text",null)):(f=x,e=q,f="function"===typeof b?new b:(e="svg"===b?"http://www.w3.org/2000/svg":"foreignObject"===n(e).nameOrCtor?null:e.namespaceURI)?f.createElementNS(e,b):f.createElement(b),r(f,b,a,d)),a&&(h[a]=f));if(n(f).focused)for(a=q,h=f,b=h.nextSibling,d=l;d!==h;)e=d.nextSibling,a.insertBefore(d,b),d=e;else q.insertBefore(f,l);l=f}},I=function(){for(var b=q,a=l?l.nextSibling:q.firstChild,
d=n(b).keyMap;null!==a;){var h=a.nextSibling,f=n(a).key;b.removeChild(a);f&&delete d[f];a=h}l=q;q=q.parentNode},P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},Q=function(){function b(a,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(a,f.key,f)}}return function(a,
d,h){d&&b(a.prototype,d);h&&b(a,h);return a}}(),z=function(b,a,d){(w[a]||w.__default)(b,a,d)},w=new g;w.__default=function(b,a,d){var h="undefined"===typeof d?"undefined":P(d);"object"===h||"function"===h?b[a]=d:null==d?b.removeAttribute(a):(h=0===a.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===a.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0,h?b.setAttributeNS(h,a,d):b.setAttribute(a,d))};w.style=function(b,a,d){if("string"===typeof d)b.style.cssText=d;else{b.style.cssText=
"";b=b.style;for(var h in d)if(p.call(d,h)){a=b;var f=h,e=d[h];0<=f.indexOf("-")?a.setProperty(f,e):a[f]=e}}};var v=new g,D=function(b,a,d,h){u.DEBUG&&(B("elementOpen"),F("elementOpen"));l=l?l.nextSibling:q.firstChild;L(b,a,void 0);q=l;l=null;var f=q;var e=n(f);if(!e.staticsApplied){if(d)for(var c=0;c<d.length;c+=2)z(f,d[c],d[c+1]);e.staticsApplied=!0}for(var e=e.attrsArr,k=!e.length,c=3,g=0;c<arguments.length;c+=2,g+=2){var t=arguments[c];if(k)e[g]=t;else if(e[g]!==t)break;var m=arguments[c+1];if(k||
e[g+1]!==m)e[g+1]=m,z(f,t,m)}if(c<arguments.length||g<e.length){for(k=g;g<e.length;g+=2)v[e[g]]=e[g+1];for(g=k;c<arguments.length;c+=2,g+=2)k=arguments[c],t=arguments[c+1],v[k]!==t&&z(f,k,t),e[g]=k,e[g+1]=t,delete v[k];for(c=g;e.length>c;)e.pop();for(var p in v)z(f,p,void 0),delete v[p]}return f},E=function(b){u.DEBUG&&B("elementClose");u.DEBUG&&C(!1);I();var a=l;if(u.DEBUG){var d=n(a).nameOrCtor;if(d!==b)throw Error('Received a call to close "'+b+'" but "'+d+'" was open.');}return a},R=function(b,
a,d,c){D.apply(null,arguments);return E(b)},S=function(b,a){u.DEBUG&&(B("text"),F("text"));l=l?l.nextSibling:q.firstChild;L("#text",null);var d=l;var c=n(d);if(c.text!==b){for(var c=c.text=b,f=1;f<arguments.length;f+=1)c=(0,arguments[f])(c);d.data=c}return d};w.caretpos=function(b,a,d){b.setSelectionRange(d,d)};w.value=function(b,a,d){b[a]=d};var T=function(b,a){var d=a.onSelect,c=a.onTextChange,f=!1,e="",g=0,k={caretpos:2,inputText:"",selected:0,focused:document.activeElement===b,suggestions:[]},
m=function(a){var b=a.value;a=a.selectionStart;k.caretpos=a;k.inputText=b;if(e!==b||g!==a)c(b,a),e=b,g=a},l=void 0,n=function(a){a=k.suggestions[a];k.inputText=a.tekst;k.caretpos=a.caretpos;k.suggestions=[];d(a);l()},p=function(a){a=window.event?a.keyCode:a.which;if(0<k.suggestions.length&&k.focused){if(40===a)k.selected=(k.selected+1)%k.suggestions.length,l();else if(38===a)k.selected=(k.selected-1+k.suggestions.length)%k.suggestions.length,l();else if(13===a||9===a)n(k.selected);else return!0;return!1}},
q=function(){k.focused=!0;l()},r=function(){k.focused=!1;l();return!1},u=function(a){var b=window.event?a.keyCode:a.which;40!==b&&38!==b&&13!==b&&9!==b&&m(a.target)},w=function(a){return m(a.target)},x=function(a){R("input","",["type","text","onkeydown",p,"onblur",r,"onfocus",q,"onkeyup",u,"onmouseup",w],"value",a.inputText,"caretpos",a.caretpos);if(0<a.suggestions.length&&a.focused){D("div","",["class","autocomplete-suggestions"]);for(var b=function(b){var d=a.suggestions[b],c="autocomplete-suggestion";
a.selected===b&&(c+=" selected");D("div","",[],"class",c,"onmousedown",function(){return n(b)});S(d.forslagstekst);E("div")},d=0;d<a.suggestions.length;++d)b(d)}E("div")},v=!1,l=function(){v||(v=!0,requestAnimationFrame(function(){f||(v=!1,J(b,function(){x(k)}))}))};l();return{destroy:function(){f=!0;J(b,function(){})},setSuggestions:function(a){k.suggestions=a;k.selected=0;l()},selectAndClose:function(a){k.inputText=a;k.caretpos=a.length;k.suggestions=[];k.selected=0;l()}}},U={minChars:2,debounce:200,
renderCallback:function(b){console.error("No renderCallback supplied")},type:"adresse",baseUrl:"https://dawa.aws.dk"},V=function(b,a){return a.reduce(function(a,c){if("adgangsadresse"!==c.type&&"adresse"!==c.type||!c.data.stormodtagerpostnr)a.push(c);else{var d=Object.assign({},c),e=c.data,h=e.vejnavn;e.husnr&&(h+=" "+e.husnr);if(e.etage||e["d\u00f8r"])h+=",";e.etage&&(h+=" "+e.etage+".");e["d\u00f8r"]&&(h+=" "+e["d\u00f8r"]);h+=", ";e.supplerendebynavn&&(h+=e.supplerendebynavn+", ");h+=e.stormodtagerpostnr+
" "+e.stormodtagerpostnrnavn;d.tekst=h;d.forslagstekst=d.tekst;e=[];b!==d.tekst&&e.push(c);b!==c.tekst&&e.push(d);1<e.length&&-1!==b.indexOf(c.data.stormodtagerpostnr)&&(e=[e[1],e[0]]);a=a.concat(e)}return a},[])},W=function(b){return Object.keys(b).map(function(a){return a+"\x3d"+encodeURIComponent(b[a])}).join("\x26")},X=function(b,a){return fetch(b+"/autocomplete?"+W(a),{mode:"cors"}).then(function(a){return a.json()})},M=function(b,a,c,h,f,e,g){a={q:c,type:a,caretpos:h};f&&(a.fuzzy="");g&&(a.adgangsadresseid=
g);e&&(a.startfra="adgangsadresse");g=null;return X(b,a).then(function(a){return V(c,a)})},Y=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=Object.assign({},U,a||{});this.minChars=a.minChars;this.debounce=a.debounce;this.renderCallback=a.renderCallback;this.selectCallback=a.selectCallback;this.baseUrl=a.baseUrl;this.type=a.type}Q(b,[{key:"setRenderCallback",value:function(a){this.renderCallback=a}},{key:"setSelectCallback",value:function(a){this.selectCallback=
a}},{key:"update",value:function(a,b){var c=this;a.length>=this.minChars?M(this.baseUrl,this.type,a,b,!0,!1,null).then(function(a){c.renderCallback&&c.renderCallback(a)}):this.renderCallback([])}},{key:"select",value:function(a){var b=this;a.type!==this.type?M(this.baseUrl,this.type,a.tekst,a.caretpos,!0,"vejnavn"===a.type,"adgangsadresse"===a.type?a.data.id:null).then(function(a){1===a.length?(a=a[0],a.type===b.type?b.selectCallback(a):b.select(a)):b.renderCallback&&b.renderCallback(a)}):this.selectCallback(a)}},
{key:"destroy",value:function(){}}]);return b}();c.dawaAutocomplete=function(b,a){var c=new Y({}),g=T(b,{onSelect:function(a){c.select(a)},onTextChange:function(a,b){c.update(a,b)}});c.setRenderCallback(function(a){return g.setSuggestions(a)});c.setSelectCallback(function(a){console.log("Selected address:");console.dir(a);g.selectAndClose(a.forslagstekst)})}})(this.dawaAutocomplete=this.dawaAutocomplete||{});
